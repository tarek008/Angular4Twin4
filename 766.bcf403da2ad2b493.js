"use strict";(self.webpackChunkample_admin_angular=self.webpackChunkample_admin_angular||[]).push([[766],{5766:(At,D,d)=>{d.r(D),d.d(D,{ContratsModule:()=>yt});var l=d(9808),f=d(1083),i=d(3075),Z=d(2340),F=d(4004),t=d(5e3),T=d(520);let h=(()=>{class e{constructor(a){this.http=a,this.url=Z.N.urlCont+"/ContartController/",this.urlAff=this.url+"displayallcontrats/",this.urlAdd=this.url+"newContrat",this.urlUpdate=this.url+"updateContrat/",this.urlDel=this.url+"deleteContrat/",this.urlACTS=this.url+"assignContratToEtudiantByID/",this.urlAffStudent=Z.N.urlCont+"/controllerEtudiant/DisplayStudents",this.urlexport=this.url+"export/pdf",this.urlReduction=this.url+"contratReduction",this.urlTwoDate=this.url+"getContratsBetween/"}postContrat(a){return console.log(a),this.http.post(this.urlAdd,a)}getContrat(){return this.http.get(this.urlAff)}updateContrat(a){return this.http.put(this.urlUpdate,a)}DelContrat(a){return this.http.delete(this.urlDel+a)}AddContratToStudent(a,r){return this.http.put(this.urlACTS+a+"/"+r,{})}getStudents(){return this.http.get(this.urlAffStudent)}exportPdfContrats(){return this.http.get(this.urlexport,{responseType:"blob"})}getStats(){return this.http.get("http://localhost:8089/SpringMVC/ContartController/vData/percentArchiveStatus").pipe((0,F.U)(a=>a))}Makereduction(){return this.http.put(this.urlReduction,[])}ContratBetweenTwoDate(a,r){return this.http.get(this.urlTwoDate+a+"/"+r)}}return e.\u0275fac=function(a){return new(a||e)(t.LFG(T.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var p=d(8966),k=d(6360),b=d(508);const N=["*",[["mat-card-footer"]]],O=["*","mat-card-footer"],E=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],q=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let J=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275dir=t.lG2({type:e,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),e})(),Y=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275dir=t.lG2({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),e})(),P=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275dir=t.lG2({type:e,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),e})(),B=(()=>{class e{constructor(){this.align="start"}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275dir=t.lG2({type:e,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(a,r){2&a&&t.ekj("mat-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),e})(),R=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275dir=t.lG2({type:e,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),e})(),L=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275dir=t.lG2({type:e,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),e})(),Q=(()=>{class e{constructor(a){this._animationMode=a}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(k.Qb,8))},e.\u0275cmp=t.Xpm({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(a,r){2&a&&t.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:O,decls:2,vars:0,template:function(a,r){1&a&&(t.F$t(N),t.Hsn(0),t.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),e})(),j=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:q,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(a,r){1&a&&(t.F$t(E),t.Hsn(0),t.TgZ(1,"div",0),t.Hsn(2,1),t.qZA(),t.Hsn(3,2))},encapsulation:2,changeDetection:0}),e})(),H=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[b.BQ],b.BQ]}),e})();var C=d(7423);let X=(()=>{class e{constructor(){this.Stu=new t.vpe}ngOnInit(){}getcardid(a){this.Stu.emit(a)}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-card"]],inputs:{card:"card"},outputs:{Stu:"Stu"},decls:14,vars:5,consts:[[1,"example-card","element"],["mat-card-avatar","",1,"example-header-image","img"],["mat-card-image","","alt","Photo of a Student",3,"src"],["mat-button","","color","warn",3,"click"]],template:function(a,r){1&a&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"div",1),t._UZ(3,"img",2),t.qZA(),t.TgZ(4,"mat-card-title"),t._uU(5),t.qZA(),t.TgZ(6,"mat-card-subtitle"),t._uU(7),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"mat-card-content"),t._UZ(10,"p"),t.qZA(),t.TgZ(11,"mat-card-actions")(12,"button",3),t.NdJ("click",function(){return r.getcardid(r.card.idEtudiant)}),t._uU(13,"Select"),t.qZA()()()),2&a&&(t.xp6(3),t.s9C("src",r.card.picture,t.LSH),t.xp6(2),t.AsE("",r.card.nomE," ",r.card.prenomE,""),t.xp6(2),t.Oqu(r.card.date_naissance),t.xp6(1),t.hij(" ",r.card.option," "))},directives:[Q,j,L,R,Y,P,J,B,C.lW],styles:[".element[_ngcontent-%COMP%]{padding:1rem;margin-bottom:1rem}.img[_ngcontent-%COMP%]{width:60px}"]}),e})();function G(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"app-card",2),t.NdJ("Stu",function(o){return t.CHM(a),t.oxw().onEve(o)}),t.qZA()}2&e&&t.Q6J("card",n.$implicit)}const z=function(){return{"font-size":24}};let w=(()=>{class e{constructor(a){this.api=a,this.move=new t.vpe}ngOnInit(){this.getAllStudents()}onEve(a){this.userid=a,this.move.emit(a)}getAllStudents(){this.api.getStudents().subscribe(a=>{this.all=a})}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(h))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-drawer"]],outputs:{move:"move"},decls:3,vars:3,consts:[[3,"ngStyle"],[3,"card","Stu",4,"ngFor","ngForOf"],[3,"card","Stu"]],template:function(a,r){1&a&&(t.TgZ(0,"p",0),t._uU(1,"List Students"),t.qZA(),t.YNc(2,G,1,1,"app-card",1)),2&a&&(t.Q6J("ngStyle",t.DdM(2,z)),t.xp6(2),t.Q6J("ngForOf",r.all))},directives:[l.PC,l.sg,X],styles:[""]}),e})();var $=d(5226),x=d.n($),g=d(7322),_=d(7531),m=d(6856),S=d(4107),U=d(2638);function W(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"div",28)(1,"button",29),t.NdJ("click",function(){return t.CHM(a),t.MAs(4).toggle()}),t._uU(2,"+ Student"),t.qZA(),t.TgZ(3,"mat-drawer",30,31)(5,"app-drawer",32),t.NdJ("move",function(o){return t.CHM(a),t.oxw().onClick(o)}),t.qZA()()()}}let M=(()=>{class e{constructor(a,r,o,s,u){this.formBuilder=a,this.router=r,this.api=o,this.editData=s,this.dialogRef=u,this.a=0,this.actionBtn="save",this.AddUpdate="Add"}ngOnInit(){this.editData?(console.log("debug archive : ",this.editData.archive),this.actionBtn="Update",this.AddUpdate="Update",this.contratForm=this.formBuilder.group({dateDebutContrat:[this.editData.dateDebutContrat,i.kI.required],dateFinContrat:[this.editData.dateFinContrat,i.kI.required],specialite:[this.editData.specialite,i.kI.required],archive:[this.editData.archive,i.kI.required],montantContrat:[this.editData.montantContrat,i.kI.required]})):this.contratForm=this.formBuilder.group({dateDebutContrat:new i.NI("",i.kI.required),dateFinContrat:new i.NI("",i.kI.required),specialite:new i.NI("",i.kI.required),archive:new i.NI("",i.kI.required),montantContrat:new i.NI("",i.kI.required)})}onClick(a){this.userid2=a}addContrat(){console.log("test",this.contratForm.value),this.editData?this.updateContrat():this.contratForm.valid&&this.api.postContrat(this.contratForm.value).subscribe({next:()=>{x().fire("Contrat Added successfully !! "),this.contratForm.reset(),this.dialogRef.close("save")},error:()=>{alert("error while adding the contrat")}})}updateContrat(){this.contrat=this.contratForm.value,this.contrat.idContrat=this.editData.idContrat,this.api.updateContrat(this.contrat).subscribe({next:()=>{x().fire("Contrat Updated successfully !! "),this.contratForm.reset(),this.dialogRef.close("update")},error:()=>{alert("Error while updating the record!!")}}),this.api.AddContratToStudent(this.editData.idContrat,this.userid2).subscribe({next:a=>{alert("Contrat Affected to Student Successfully"),this.contratForm.reset(),this.dialogRef.close("update")},error:()=>{alert("Error while Affecting  Contrat!!")}})}onPress(){}onmouseOver(){return this.contratForm.valid||0!=this.a?this.contratForm.valid||1!=this.a?this.contratForm.valid||2!=this.a?(document.getElementById("submit-btn").style.cursor="pointer",this.addContrat(),!1):(this.buttonMoveLeft(),this.a=1,!1):(this.buttonMoveRight(),this.a=2,!1):(this.buttonMoveLeft(),this.a=1,!1)}buttonMoveLeft(){document.getElementById("submit-btn").style.transform="translateX(-160%)"}buttonMoveRight(){document.getElementById("submit-btn").style.transform="translateX(0%)"}resetBtn(){document.getElementById("submit-btn").style.transform="translateX(0%)"}resetControls(){this.contratForm.reset()}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(i.qu),t.Y36(f.F0),t.Y36(h),t.Y36(p.WI),t.Y36(p.so))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-dialog"]],inputs:{drawer:"drawer"},decls:58,vars:9,consts:[["mat-button","","mat-dialog-close","",1,"ribbon"],["mat-dialog-title",""],["mat-dialog-content",""],["name","suForm","id","supform",3,"formGroup"],["appearance","outline",1,"col-6","offset-3"],["formControlName","dateDebutContrat","matInput","",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker1",""],["formControlName","dateFinContrat","matInput","",3,"matDatepicker"],["picker2",""],["formControlName","specialite"],["value","IA"],["value","RESEAU"],["value","CLOUD"],["value","SECURITE"],["formControlName","archive"],["value","true"],["value","false"],[1,"form-label"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","number","matInput","","placeholder","Montant","aria-label","Amount (to the nearest dollar)","formControlName","montantContrat","tabindex","-1",1,"form-control",2,"text-align","center"],["mat-dialog-action","",4,"ngIf"],["mat-dialog-action","",3,"align"],["mat-raised-button","","color","primary","id","submit-btn",2,"margin-left","8px",3,"mouseover"],[1,"btn-text-left"],["type","button",1,"btn","btn-warning","mx-2",3,"click"],[1,"fa-solid","fa-broom","pe-2"],["mat-dialog-action",""],["mat-raised-button","","color","accent",3,"click"],["mode","side",1,"example-sidenav",2,"position","absolute","right","0px","top","0px","width","400px","height","100%"],["drawer",""],[3,"move"]],template:function(a,r){if(1&a&&(t.TgZ(0,"div")(1,"button",0),t._uU(2,"x"),t.qZA(),t.TgZ(3,"h1",1),t._uU(4),t.qZA()(),t.TgZ(5,"div",2)(6,"form",3)(7,"mat-form-field",4)(8,"mat-label"),t._uU(9,"DateDebutContrat"),t.qZA(),t._UZ(10,"input",5)(11,"mat-datepicker-toggle",6)(12,"mat-datepicker",null,7),t.qZA(),t.TgZ(14,"mat-form-field",4)(15,"mat-label"),t._uU(16,"DateFinContrat"),t.qZA(),t._UZ(17,"input",8)(18,"mat-datepicker-toggle",6)(19,"mat-datepicker",null,9),t.qZA(),t.TgZ(21,"mat-form-field",4)(22,"mat-label"),t._uU(23,"Specialite:"),t.qZA(),t.TgZ(24,"mat-select",10)(25,"mat-option",11),t._uU(26," IA "),t.qZA(),t.TgZ(27,"mat-option",12),t._uU(28," RESEAU "),t.qZA(),t.TgZ(29,"mat-option",13),t._uU(30," CLOUD "),t.qZA(),t.TgZ(31,"mat-option",14),t._uU(32," SECURITE "),t.qZA()()(),t.TgZ(33,"mat-form-field",4)(34,"mat-label"),t._uU(35,"Archive:"),t.qZA(),t.TgZ(36,"mat-select",15)(37,"mat-option",16),t._uU(38," true "),t.qZA(),t.TgZ(39,"mat-option",17),t._uU(40," false "),t.qZA()()(),t.TgZ(41,"mat-form-field",4)(42,"label",18),t._uU(43,"Montant"),t.qZA(),t.TgZ(44,"div",19)(45,"span",20),t._uU(46,"$"),t.qZA(),t._UZ(47,"input",21),t.TgZ(48,"span",20),t._uU(49,".00"),t.qZA()()(),t.YNc(50,W,6,0,"div",22),t.TgZ(51,"div",23)(52,"button",24),t.NdJ("mouseover",function(){return r.onmouseOver()}),t._uU(53),t.qZA(),t.TgZ(54,"div",25)(55,"button",26),t.NdJ("click",function(){return r.resetControls()}),t._UZ(56,"i",27),t._uU(57," Reset "),t.qZA()()()()()),2&a){const o=t.MAs(13),s=t.MAs(20);t.xp6(4),t.hij("",r.AddUpdate," Contrats Form"),t.xp6(2),t.Q6J("formGroup",r.contratForm),t.xp6(4),t.Q6J("matDatepicker",o),t.xp6(1),t.Q6J("for",o),t.xp6(6),t.Q6J("matDatepicker",s),t.xp6(1),t.Q6J("for",s),t.xp6(32),t.Q6J("ngIf","Update"===r.AddUpdate),t.xp6(1),t.Q6J("align","end"),t.xp6(2),t.Oqu(r.actionBtn)}},directives:[C.lW,p.ZT,p.uh,p.xY,i._Y,i.JL,i.sg,g.KE,g.hX,i.Fj,_.Nt,m.hl,i.JJ,i.u,m.nW,m.Mq,S.gD,b.ey,i.wV,l.O5,U.jA,w],styles:['.example-container[_ngcontent-%COMP%]{width:500px;height:300px;border:1px solid rgba(0,0,0,.5)}.example-sidenav-content[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center}.example-sidenav[_ngcontent-%COMP%]{padding:20px}.example-card[_ngcontent-%COMP%]{max-width:400px}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}.signup-box[_ngcontent-%COMP%]{width:80%;max-width:370px;border:1px solid rgba(116,116,116,.76);position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:.75rem;padding:10px 0}.signup-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30%;height:auto;margin:20px auto;display:block;border-radius:50%}.signup-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:85%;height:40px;margin:12px auto;display:block;border:1px solid rgba(116,116,116,.76);border-radius:.75rem;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:17px;padding-left:15px}.signup-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}#check[_ngcontent-%COMP%]{width:20px;max-width:20px;margin:0 0 0 5%;padding:0;height:20px;display:inline}.label[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:15px;padding-left:9px;position:absolute}#submit-btn[_ngcontent-%COMP%]{width:auto;padding:0 30px;background-color:#5271ff;border:1px solid transparent;border-radius:.75rem;color:#fff;cursor:pointer;font-family:Inter var,ui-sans-serif,system-ui,-apple-system,system-ui,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-size:1.125rem;font-weight:600;height:50px;transition:.15s;float:right;margin:35px 5% 12px 0;cursor:default}.submit-div[_ngcontent-%COMP%]{height:200px;width:80%;max-width:300px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;border-radius:.75rem;border:1px solid rgba(116,116,116,.76);background-color:#fff;box-shadow:10px 10px 50px #2b2b2b3f;display:block}.submit-div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:40px;padding-top:50px;color:#5271ff}.submit-div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}.ribbon[_ngcontent-%COMP%]{position:relative;top:-24px;right:-426px}.btn-text-left[_ngcontent-%COMP%]{text-align:left;padding-top:20px}']}),e})();var y=d(7850),v=d(4847),c=d(4999),V=d(6396),I=d(5245);let K=(()=>{class e{constructor(a){this.api=a}ngOnInit(){}exportContratsPdf(){this.api.exportPdfContrats().subscribe(a=>{const r=new Blob([a],{type:"application/pdf"}),o=window.navigator;if(o&&o.msSaveOrOpenBlob)return void o.msSaveOrOpenBlob(r);const s=window.URL.createObjectURL(r),u=document.createElement("a");u.href=s,u.download="contrats.pdf",u.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(function(){window.URL.revokeObjectURL(s),u.remove()},100)})}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(h))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-export-contrat"]],decls:2,vars:0,consts:[["mat-raised-button","","color","primary",2,"margin-left","8px",3,"click"]],template:function(a,r){1&a&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return r.exportContratsPdf()}),t._uU(1,"Export"),t.qZA())},directives:[C.lW],styles:[""]}),e})();var A=d(3192);A.kL.register(...A.zX);let tt=(()=>{class e{constructor(a){this.apiService=a,this.labelData=[],this.realData=[]}ngOnInit(){this.apiService.getStats().subscribe(a=>{if(this.chartData=a,null!==this.chartData){for(let r=0;r<this.chartData.length;r++)this.labelData.push(!0===this.chartData[r].archive?"Archiv\xe9":"Not Archiv\xe9"),this.realData.push(this.chartData[r].count);this.renderChart(this.labelData,this.realData)}})}renderChart(a,r){new A.kL("piechart",{type:"pie",data:{labels:a,datasets:[{label:"# status",data:r,backgroundColor:["#FA7070","#B1B2FF"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(h))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-archivestats"]],decls:1,vars:0,consts:[["id","piechart"]],template:function(a,r){1&a&&t._UZ(0,"canvas",0)},styles:[""]}),e})();function et(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){return t.CHM(a),t.oxw().openDialog()}),t._uU(1,"Add Contrats"),t.qZA()}}function at(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){return t.CHM(a),t.oxw().Reduction()}),t._uU(1," Random Reduction"),t.qZA()}}function nt(e,n){1&e&&(t.TgZ(0,"th",34),t._uU(1," dateDebutContrat "),t.qZA())}function rt(e,n){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,a.dateDebutContrat)," ")}}function ot(e,n){1&e&&(t.TgZ(0,"th",34),t._uU(1," dateFinContrat "),t.qZA())}function it(e,n){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,a.dateFinContrat)," ")}}function dt(e,n){1&e&&(t.TgZ(0,"th",34),t._uU(1," specialite "),t.qZA())}function st(e,n){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.hij(" ",a.specialite," ")}}function ct(e,n){1&e&&(t.TgZ(0,"th",34),t._uU(1," archive "),t.qZA())}function lt(e,n){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.hij(" ",a.archive," ")}}function mt(e,n){1&e&&(t.TgZ(0,"th",34),t._uU(1," montantContrat "),t.qZA())}function ut(e,n){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,a.montantContrat)," ")}}function pt(e,n){1&e&&(t.TgZ(0,"th",34),t._uU(1," Actions "),t.qZA())}function gt(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"td",35)(1,"button",36),t.NdJ("click",function(){const s=t.CHM(a).$implicit;return t.oxw().editContrat(s)}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",37),t.NdJ("click",function(){const s=t.CHM(a).$implicit;return t.oxw().DelContrat(s.idContrat)}),t.TgZ(5,"mat-icon"),t._uU(6,"delete"),t.qZA()()()}}function ft(e,n){1&e&&t._UZ(0,"tr",38)}function ht(e,n){1&e&&t._UZ(0,"tr",39)}function Ct(e,n){if(1&e&&(t.TgZ(0,"tr",40)(1,"td",41),t._uU(2),t.qZA()()),2&e){t.oxw();const a=t.MAs(10);t.xp6(2),t.hij('No data matching the filter "',a.value,'"')}}const bt=function(){return[5,10,25,100]},vt=[{path:"",component:(()=>{class e{constructor(a,r,o){this.dialog=a,this.api=r,this.login=o,this.displayedColumns=["dateDebutContrat","dateFinContrat","specialite","archive","montantContrat","actions"],this.role=o.getUserRole()}ngOnInit(){this.getAllContrats()}openDialog(){this.dialog.open(M,{width:"40%"}).afterClosed().subscribe(a=>{"save"===a&&this.getAllContrats()})}editContrat(a){this.dialog.open(M,{width:"40%",data:a}).afterClosed().subscribe(r=>{"update"===r&&this.getAllContrats()})}getAllContrats(){this.api.getContrat().subscribe({next:a=>{this.dataSource=new c.by(a),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}})}DelContrat(a){this.api.DelContrat(a).subscribe({next:r=>{x().fire("Contrat Deletet successfully !! "),this.getAllContrats()},error:()=>{alert("Error while deleting the Contrat!!")}})}applyFilter(a){this.dataSource.filter=a.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}Reduction(){this.api.Makereduction().subscribe({next:a=>{alert("Contrat Reduction Successfully"),this.getAllContrats()},error:a=>{alert("error while fetching the Records!!")}})}ContratsFromDate(){const a=(0,l.p6)(this.DateD,"yyyy-MM-dd","en-US"),r=(0,l.p6)(this.DateF,"yyyy-MM-dd","en-US");this.api.ContratBetweenTwoDate(a,r).subscribe({next:o=>{this.dataSource=new c.by(o),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},error:o=>{alert("error while fetching the Records!!")}})}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(p.uw),t.Y36(h),t.Y36(V.r))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-contrats"]],viewQuery:function(a,r){if(1&a&&(t.Gf(y.NW,5),t.Gf(v.YE,5)),2&a){let o;t.iGM(o=t.CRH())&&(r.paginator=o.first),t.iGM(o=t.CRH())&&(r.sort=o.first)}},decls:58,vars:11,consts:[[1,"row"],[1,"col-lg-7"],["mat-raised-button","","color","warn","routerLink","/AddContrat",3,"hidden","click",4,"ngIf"],["type","button","class","btn btn-sm btn-success","style","margin-left: 30px;",3,"hidden","click",4,"ngIf"],[1,"container",2,"width","100%"],["matInput","","placeholder","Ex. Mia",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","dateDebutContrat"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","dateFinContrat"],["matColumnDef","specialite"],["matColumnDef","archive"],["matColumnDef","montantContrat"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[3,"submit"],["appearance","fill"],[3,"rangePicker"],["matStartDate","","placeholder","Start date",3,"ngModel","ngModelChange"],["matEndDate","","placeholder","End date",3,"ngModel","ngModelChange"],["matIconSuffix","",3,"for"],["picker",""],["type","button",1,"btn","btn-sm","btn-success",2,"margin-left","30px",3,"click"],[1,"col-md-4","offset-md-3"],[1,"col-lg-5"],[1,"col-lg-12"],["mat-raised-button","","color","warn","routerLink","/AddContrat",3,"hidden","click"],["type","button",1,"btn","btn-sm","btn-success",2,"margin-left","30px",3,"hidden","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(a,r){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,et,2,0,"button",2),t.YNc(3,at,2,0,"button",3),t.TgZ(4,"div",4)(5,"div")(6,"mat-form-field")(7,"mat-label"),t._uU(8,"Filter"),t.qZA(),t.TgZ(9,"input",5,6),t.NdJ("keyup",function(s){return r.applyFilter(s)}),t.qZA()(),t.TgZ(11,"div",7)(12,"table",8),t.ynx(13,9),t.YNc(14,nt,2,0,"th",10),t.YNc(15,rt,3,3,"td",11),t.BQk(),t.ynx(16,12),t.YNc(17,ot,2,0,"th",10),t.YNc(18,it,3,3,"td",11),t.BQk(),t.ynx(19,13),t.YNc(20,dt,2,0,"th",10),t.YNc(21,st,2,1,"td",11),t.BQk(),t.ynx(22,14),t.YNc(23,ct,2,0,"th",10),t.YNc(24,lt,2,1,"td",11),t.BQk(),t.ynx(25,15),t.YNc(26,mt,2,0,"th",10),t.YNc(27,ut,3,3,"td",11),t.BQk(),t.ynx(28,16),t.YNc(29,pt,2,0,"th",10),t.YNc(30,gt,7,0,"td",11),t.BQk(),t.YNc(31,ft,1,0,"tr",17),t.YNc(32,ht,1,0,"tr",18),t.YNc(33,Ct,3,1,"tr",19),t.qZA(),t._UZ(34,"mat-paginator",20),t.qZA()()(),t._UZ(35,"br"),t.TgZ(36,"nav")(37,"form",21),t.NdJ("submit",function(){return r.ContratsFromDate()}),t.TgZ(38,"mat-form-field",22)(39,"mat-label"),t._uU(40,"Enter a date range"),t.qZA(),t.TgZ(41,"mat-date-range-input",23)(42,"input",24),t.NdJ("ngModelChange",function(s){return r.DateD=s}),t.qZA(),t.TgZ(43,"input",25),t.NdJ("ngModelChange",function(s){return r.DateF=s}),t.qZA()(),t.TgZ(44,"mat-hint"),t._uU(45,"MM/DD/YYYY \u2013 MM/DD/YYYY"),t.qZA(),t._UZ(46,"mat-datepicker-toggle",26)(47,"mat-date-range-picker",null,27),t.qZA()(),t.TgZ(49,"button",28),t.NdJ("click",function(){return r.ContratsFromDate()}),t._uU(50," Recherhce"),t.qZA(),t._UZ(51,"app-export-contrat"),t.qZA(),t.TgZ(52,"div",29),t._UZ(53,"router-outlet"),t.qZA()(),t.TgZ(54,"div",30),t._UZ(55,"app-archivestats"),t.qZA()(),t.TgZ(56,"div",0),t._UZ(57,"div",31),t.qZA()),2&a){const o=t.MAs(48);t.xp6(2),t.Q6J("ngIf","ADMIN"==r.role),t.xp6(1),t.Q6J("ngIf","ADMIN"==r.role),t.xp6(9),t.Q6J("dataSource",r.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(10,bt)),t.xp6(7),t.Q6J("rangePicker",o),t.xp6(1),t.Q6J("ngModel",r.DateD),t.xp6(1),t.Q6J("ngModel",r.DateF),t.xp6(3),t.Q6J("for",o)}},directives:[l.O5,C.lW,f.rH,g.KE,g.hX,_.Nt,c.BZ,v.YE,c.w1,c.fO,c.ge,v.nU,c.Dz,c.ev,I.Hw,c.as,c.XQ,c.nj,c.Gk,c.Ee,y.NW,i._Y,i.JL,i.F,m.wx,m.zY,i.Fj,i.JJ,i.On,m.By,g.bx,m.nW,m._g,K,f.lC,tt],pipes:[l.uU,l.H9],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}mat-toolbar[_ngcontent-%COMP%]{position:fixed;top:85px;left:235px;width:87%;height:50px}table[_ngcontent-%COMP%]{width:100%}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:25%}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0}"]}),e})(),children:[{path:"AddContrat",component:M}]}];let xt=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[f.Bz.forChild(vt)],f.Bz]}),e})();var _t=d(4594),Mt=d(3954);let yt=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.ez,xt,_t.g0,I.Ps,C.ot,Mt.N6,p.Is,g.lN,_.c,S.LD,m.FA,b.XK,c.p0,y.TU,v.JX,i.UX,i.u5,T.JF,U.SJ,H]]}),e})()}}]);